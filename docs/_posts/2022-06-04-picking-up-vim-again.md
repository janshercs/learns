---
layout: post
title:  "Trying vim again"
tags: "set-up"
---
# Introduction
I've tried vim before in my first week, of my first job: it was a bad decision. There were already so much to learn as a first time programmer; you don't want to add to that cognitive load. Now that things have changed in my life; I'm no longer trying to learn multiple things at once, I can once again try to pick up vim!

The allures of vim is very obvious: never having to raise your hand and reach for the mouse again! What they don't say: it's hard as hell to set up, learn and master. I don't know yet if this attempt will be successful or be utterly fruitless, but I shall endeavour to journey my process here.

# Set up - Settling in
- [x] Set up repository for `.vimrc` and `.zshrc` files so I'll never lose them
- [x] Install plug ins that I like and need.
- 	* see `.vimrc` for list
- [x] Install Language Server Protocol for `Go` in vim
- [x] Change font to fira code and enable ligatures in vim because I like them
- 	* turns out to be a iterm2 thing
- [x] Set up gofmt so that the white spaces is automatically fixed when I save and that I don't get into a whole bunch of linting errors (it was **so** bad with python)
- [x] Set up highlight for same variable in the page
- [x] use neovim instead of vim for faster async processes going on in the back. [migrating](https://otavio.dev/2018/09/30/migrating-from-vim-to-neovim/) 
- [x] install python support for nvim with `python3 -m pip install --user --upgrade pynvim`
 
# Requirements - Setting some goals
Some things that I cannnot live without that I had in VS Code.
* `cmd-d` - Variable multiselect
	* seems to be a different way of doing things in vim; using search and `n` to go next and repeat action
* `cmd-p` - File search within project
	* use `:e though i don't think it's good enough; maybe a plugin`
* split pane - to look at multiple files at once for comparison
	* `:vsp` is the easiest way.
* View implementations of `interfaces` _because Go..._
	* using `:GoImplements` where the cursor is works, will remap to C-i or something
* View references of `function/method` in local file
	* `gd` `g`oes to `d`eclaration

# The Basics - Learning to even start working
I recall some stuff from before so it is not hard: I shall break them up into bigger categories

## Basic navigation 
* arrow keys are substituted with `hjkl`
* `b`ack and for`w`ard by `w`ord

## Basic editing
* `A`ppend stuff to the end of the line
* `o` to add a line below in insert mode use `O` for adding a line above
* `c`hange command deletes and goes into insert mode for whatever noun is provided after e.g. `cw` changes word and `cp` changes paragraph.
* `>>` indents the line and conversely, `<<` de-indents

## Visual mode editing
* some times needed to add comments on multiple lines
* use *Visual Block* mode to achieve it `<C-v>` to enter Visual Block mode, select required lines, `<S-i>` to enter insert mode, type necessary changes, `esc` and the changes will appear on all the highlighted lines

## Pane control
* C-w to enter window mode and navigation to choose the screen you want
* `C-w + HJKL` moves the pane to the side you'll like it to be
* `<` and `>` to adjust pane size
* C-y and C-e helps to move the viewport up and down respectively  
* `zz` centers the view port to your cursor position
* `C-d/u` scrolls down and up by half a page

# Walking - Becoming as fast as my old setup

## Access file trees
* `:e` uses vim file trees to search, throw in `**` if you cannot remember which parent folders they are in
* I have the ~~ctrl-P~~ FZF/telescope plug in which is pretty much the same as that of vs-code, just use C-k/j to select the wanted file

## Navigating codebase
* `Go` - `vim-go` is required
	* `:GoImplements` - finds all implementation
	* `:GoCallers` - finds all references
* quickfix/location lists: generated by commands above
	* `C-w + enter` - open file in new horizontal pane
	* enter - opens in same window
	* to open in new tab, :set switchbuf+=usetab,newtab
	* considering a [plugin](https://www.vim.org/scripts/script.php?script_id=4778) to make it more like ctrl-P (opens in vertical split with `<C-V>`)
* Fugitive Vim for Git is pretty awesome with
	* `:G` fugitive mode that is like git status but allows you to toggle diffs (`=`) on interested files
	* `dv` in fugitive mode shows diffs via vertical split
	* `s` stages the file or hunk for changes
	* `cc` commits changes and brings you to commit message page (though I prefer using shell for this)

# Flying - Becoming faster than my old setup
* Changing to neovim so functions such as running tests become async
* having good auto completion: coc is pretty great so faster
* snippets: using Ultisnip + coc-snippets to integrate snippet suggestions into coc
	* when inserting snippets, use <C-j> and <C-k> to move up and down placeholders; makes it faster to navigate
* moving init files into lua so it feels more like a scripting language and interesting functions can be written more easily
